#!/bin/bash
set -e
# -------------------------------------------------------
#   Minecraft Translation Batch - Gemini Auto Edit Mode
# -------------------------------------------------------

# ูููุฐุฌ Gemini
model="gemini-2.5-flash"

# ูุต ุงูุชุนูููุงุช ุงููุฑุณู ูููููุฐุฌ
prompt="ูู ุจุชุนุฑูุจ ูุญุชูู ุงูููู ุงูุญุงูู.
- ูุฐู ูุตูุต ูุนุจุฉ ูุงูููุฑุงูุช.
- ุงูุฑุฃ ููู ุฏูุน ูุงุญุฏุฉ ูุง ุชูุฑุง ุณุทุฑ ุณุทุฑ
- ุชุฑุฌู ุงููุตูุต ููุทุ ูุง ุชูุดุฆ ูุตูุต ุฌุฏูุฏุฉ.
- ูุง ุชุบูุฑ ุงูู IDs.
- ุชุฑุฌู ูุงูู ูุญุชูู ุงูููู ุฏูุนุฉ ูุงุญุฏุฉ.
- ูุง ุชุญุฐู ุฃู ุฃุณุทุฑ.
- ููุท ุนุฏูู ุงูููู ุงูุญุงูู ูุจุงุดุฑุฉ ูุง ุชุณุฆููู
ูุงุฒู ุชุญูุธ."

echo "๐ฅ ุจุฏุก ุงูุชุนุฑูุจ ุจุงุณุชุฎุฏุงู Auto-Edit..."
echo

# ูุนุงูุฌุฉ ูู ุฌุฒุก
for file in en_US.lang_folder/part_*; do
    echo "โก๏ธ  ุชุนุฑูุจ: $file"
    
    # ููุง ูุญุฏุซ ุงูุณุญุฑ โ ุงููููุฐุฌ ูุนุฏูู ุงูููู ููุณู
    gemini -m "$model" \
        --approval-mode auto_edit \
        -p "$prompt ูู ุงูุขู ุจุชุนุฑูุจ ุงูููู: $file"

    echo "   โ๏ธ ุชู ุชุนุฏููู"
    echo
done

echo "๐ ุชู ุชุนุฑูุจ ูู ุงูุฃุฌุฒุงุก ุจูุฌุงุญ!"
echo "๐ ุงููููุน: $folder"
